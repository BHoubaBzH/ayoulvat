<!-- evenement/base.html -->
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}

{% bootstrap_messages %}

{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{% block title %}Evenement{% endblock %}</title>
    {# ressources CSS #}
    <link rel="stylesheet" href="{% static 'evenement/css/planning.css' %}" type="text/css" />
    <style>
        /* ###############################################" */
        /* grid pour scheduler */
        /* ###############################################" */

        /*************************
        * GRID SCHEDULE LAYOUT
        * partie dynamique ayant besoins de faire appel a de variables
        *************************/
        @media screen and (min-width:700px) {
            .schedule {
                display: grid;
                gap: 0.5em;
                border: 1px solid #000000;

                {# entete des lignes de la grille planning: postes #}
                grid-template-rows:
                    [times] 2em
                    {% for poste in Postes %}
                        [poste-{{ poste.UUID_poste }}] auto
                    {% endfor %}
                    ;
                {# entete des colonnes de la grille planning: heures #}
                grid-template-columns:
                    [postes] auto
                    {% for dates, heures in PlanningRange.items %} 
                        [time-{{ dates }}] auto
                    {% endfor %}
                    ;
            }

            {% for poste in Postes %}
                .poste-{{ poste.UUID_poste }} {
                    background-color: {{ poste.couleur }}aa; {# aa pour la transparence  #}
                    color: #fff;
                }
            {% endfor %}
        }

    </style>
    {# ressources JQUERY #}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    {# sources scripts #}
    <script src="{% static "evenement/js/scripts.js" %}"></script>

</head>
<body>

  <main>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12" title="evenement">
                {% block evenement %}
                {% endblock %}
            </div> 
        </div> 
    </div>
    {# tabs pour montrer différentes infos #}
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" href="#">creneaux</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">benevoles</a>
        </li>
    </ul>
    </br>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-4" title="équipe">
                <ul class="list-group">
                    <li class="list-group-item"><H1> équipes </H1></li>
                </ul>
                {%  if Equipes %}
                    {% block equipes %}
                    {% endblock %}
                {% endif %}
            </div>
            <div class="col-sm-3" title="planning">
                <ul class="list-group">
                    <li class="list-group-item"><H1> plannings </H1></li>
                </ul>
                {% if Equipe and Plannings %}

                    {% block plannings %}
                    {% endblock %}
                {% endif %}
            </div>
            <div class="col-sm-4" title="poste">
                <ul class="list-group">
                    <li class="list-group-item"><H1> postes </H1></li>
                </ul>
                {% if Planning and Postes %}
                    {% block postes %}
                    {% endblock %}
                {% endif %}
            </div>
            {% comment "colonne creneau inutile avec le planning" %}
            <div class="col-sm-3" title="creneau">
                <ul class="list-group">
                    <li class="list-group-item"><H1> creneaux </H1></li>
                </ul>
                {% block creneaux %}
                {% endblock %}
            </div>    
            {% endcomment %}
        </div>
    </div>

    {% comment "scheduler on affiche que si un planning est selectionne" %}
    {% endcomment %}
    {% if Planning or Poste %}
        </br>
        <div class="container-fluid">
            {% block agenda %}
            {% endblock agenda %}
        </div>
    {% endif %}    

  </main>
</body>
</html>